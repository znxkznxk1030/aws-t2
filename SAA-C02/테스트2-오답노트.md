# 테스트2-오답노트

## 탄력적인 아키텍처 설계

### Route 53 기본레코드 업데이트워 새 로드 밸런서로 리다이렉션 되지 않을 때

- TTL이 여전히 유효하다.
- TTL에 더 긴 값을 지정하면 recursive resolver가 Route 53에 최신 정보를 요청하기 전에 기간이 더 긴 캐시 값을 사용하므로 레코드(예: 새 IP 주소) 변경이 적용되는 데 걸리는 시간이 길어집니다. 이미 사용 중인 도메인이나 하위 도메인의 설정을 변경하는 경우 처음에는 더 짧은 값(예: 300초)을 지정하고 새 설정이 올바른지 확인한 후 값을 늘리는 것이 좋습니다.
- Amazon Route 53는 IPv6와 완벽히 호환
- 사용자의 요청을 Amazon EC2 인스턴스, Elastic Load Balancing 로드 밸런서, Amazon S3 버킷 등 AWS에서 실행되는 인프라에 효과적으로 연결
- 사용자를 AWS 외부의 인프라로 라우팅하는 데도 Route 53를 사용가능

### S3에서 새 데이터가 제공되는 즉시 ETL ( Extract, Trancform, Load) 작업이 실행되도록 하려면 AWS Lambda 함수를 시작

- AWS Glue는 고객이 분석을 위해 손쉽게 데이터를 준비하고 로드할 수 있게 지원하는 완전관리형 ETL(추출, 변환 및 로드) 서비스

### ALB는 비정상 상태로 감지되었지만 Auto Scaling 그룹이 시작하지 않고 교체 인스턴스를 프로비저닝 하지 못할 때마다 인스턴스를 제거

- Auto Scaling 그룹은 EC2 기반 상태 확인을 사용하고 있고 Application Load Balancer는 ALB 기반 상태 확인을 사용

### Glacier | 언제든지 감사가 발생할 수 있는 엄격한 규정 준수 요건이 있으며, 모든 상황에서 15분 이내에 필요한 데이터를 검색

#### 신속한 검색을 사용하여 재무 데이터에 액세스

• 신속 — 아카이브의 하위 집합에 대한 긴급 요청이 간헐적으로 필요한 경우 신속 가져오기를 통해 빠르게 데이터에 액세스할 수 있습니다. 매우 큰 아카이브(250MB+)를 제외한 모든 경우, 신속 가져오기를 사용하여 액세스된 데이터는 일반적으로 1~5분 안에 사용할 수 있게 됩니다. 프로비저닝된 용량을 통해 필요할 때 신속 검색에 대한 검색 용량이 보장됩니다.

• 표준 — 표준 가져오기를 사용하면 몇 시간 내에 아카이브에 액세스할 수 있습니다. 표준 검색은 보통 3~5시간 안에 완료됩니다. 검색 요청 시 검색 옵션을 지정하지 않을 경우 기본 옵션이 됩니다.

• 벌크 — 벌크 가져오기는 S3 Glacier에서 가장 저렴한 가져오기 옵션으로서 심지어 페타바이트 규모의 대용량 데이터까지도 1일 동안 가져올 때 사용할 수 있습니다. 벌크 검색은 보통 5~12시간 안에 완료됩니다.

#### 프로비저닝된 검색 용량을 구입

- 프로비저닝된 용량을 통해 필요할 때 신속 검색에 대한 검색 용량이 보장됩니다. 각 용량 단위로 5분마다 신속 검색 3회를 수행할 수 있고, 최대 150MB/s의 검색 처리량이 제공

### 전세계, EC2 서버 그룹에 대해 초당 최소 100만 건의 요청을 지원

- Network Load Balancer
- 개방형 시스템 간 상호 연결(OSI) 모델의 네 번째 계층에서 작동합니다. 초당 수백만 개의 요청을 처리할 수 있습니다. 로드 밸런서가 연결 요청을 받으면 기본 규칙의 대상 그룹에서 대상을 선택합니다. 리스너 구성에 지정된 포트에서 선택한 대상에 대한 TCP 연결을 열려고 시도

### EC2 확장성

- Route53
- ELB

### Kinesis에서 소비자는 결과를 어디에 저장

- Redshift
- S3
- DynamoDB

## 안전한 어플리케이션 및 아키텍쳐 설계

### ACL 기본사항

- VPC는 수정 가능한 기본 네트워크 ACL과 함께 자동으로 제공됩니다. 기본적으로 모든 인바운드 및 아웃바운드 IPv4 트래픽을 허용하며, 해당되는 경우 IPv6 트래픽도 허용합니다.
- 사용자 지정 네트워크 ACL을 생성하여 서브넷과 연결할 수 있습니다. 기본적으로 각 사용자 지정 네트워크 ACL은 규칙을 추가하기 전에는 모든 인바운드 및 아웃바운드 트래픽을 거부합니다.
- VPC에 있는 각 서브넷을 네트워크 ACL과 연결해야 합니다. 서브넷을 네트워크 ACL에 명시적으로 연결하지 않을 경우, 서브넷은 기본 네트워크 ACL에 자동적으로 연결됩니다.
- 네트워크 ACL을 여러 서브넷과 연결할 수 있습니다. 그러나 서브넷은 한 번에 하나의 네트워크 ACL에만 연결할 수 있습니다. 네트워크 ACL을 서브넷과 연결하면 이전 연결은 제거됩니다.
- 네트워크 ACL에는 번호가 매겨진 규칙 목록이 포함되어 있습니다. 가장 낮은 번호가 지정된 규칙부터 시작해서 트래픽이 네트워크 ACL과 연결된 서브넷의 내부 또는 외부로 전달되도록 허용되는지 결정합니다. 규칙에 사용할 수 있는 가장 높은 번호는 32766입니다. 나중에 필요한 곳에 새 규칙을 삽입할 수 있도록, 처음 시작할 때는 증분 방식으로(예: 10 또는 100 단위씩 증분) 규칙을 생성하는 것이 좋습니다.
- 네트워크 ACL에는 별개의 인바운드 및 아웃바운드 규칙이 있으며, 각 규칙은 트래픽을 허용하거나 거부할 수 있습니다.
- 네트워크 ACL은 상태 비저장입니다. 즉, 허용되는 인바운드 트래픽에 대한 응답은 아웃바운드 트래픽에 대한 규칙을 따르고, 그 반대의 경우에도 마찬가지입니다.

### ACL 규칙

- 규칙 번호 : 번호가 가장 낮은 규칙부터 평가됩니다. 규칙에 일치하는 트래픽이 있으면 이와 모순되는 상위 규칙이 있더라도 적용됩니다.
- 유형 : 트래픽 유형(예: SSH)입니다. 모든 트래픽 또는 사용자 지정 범위를 지정할 수도 있습니다.
- 프로토콜 : 표준 프로토콜 번호를 가진 어떤 프로토콜이든 지정할 수 있습니다. ICMP를 프로토콜로 지정하면 ICMP 유형과 코드 중 일부 또는 전부를 지정할 수 있습니다.
- 포트 범위 : 트래픽에 대한 수신 포트 또는 포트 범위입니다. 예를 들어, HTTP 트래픽의 경우 80입니다.
- 소스 : [인바운드 규칙만 해당] 트래픽의 소스(CIDR 범위)입니다.
- 대상 : [아웃바운드 규칙만 해당] 트래픽의 대상(CIDR 범위)입니다.
- 허용/거부 : 지정된 트래픽을 허용 또는 거부 할지 여부입니다.

### 대기기간 하루전에 CMK 키를 삭제한경우

- CMK가 하루 전에 삭제되었으므로 '삭제 보류 중' 상태이므로 CMK 삭제를 취소하고 키를 복구 할 수 있습니다.
- 명시적으로 삭제를 예약하고 필수 대기 기간이 만료되지 않으면 AWS KMS에서 CMK가 삭제되지 않습니다.

### 인터넷을 통해 SQS에 액세스하는 것을 우려

- VPC 엔드포인트
- VPC 엔드포인트를 통해 인터넷 게이트웨이, NAT 디바이스, VPN 연결 또는 AWS Direct Connect 연결을 필요로 하지 않고 AWS PrivateLink 구동 지원 AWS 서비스 및 VPC 엔드포인트 서비스에 비공개로 연결

#### 인터페이스 엔드포인트 ( PrvateLink )

- 프라이빗 IP 주소를 가진 탄력적 네트워크 인터페이스이며, 지원되는 서비스로 전달되는 트래픽에 대한 진입점 역할을 하는 서브넷의 IP 주소 범위

#### 게이트웨이 엔드포인트

- 지원되는 AWS 서비스로 전달되는 트래픽에 대한 라우팅 테이블에서 경로의 대상으로 지정하는 게이트웨이

### 새로운 IAM 사용자를 생성 | AWS 리소스에 API 호출을 할 수 있도록 하려면 다음 중 무엇을 수행

- 사용자에 대한 액세스 키 세트를 작성하고 필요한 권한을 첨부

#### AWS는 사용자 자격 증명에 따라 다양한 방법으로 액세스

• 콘솔 암호: 사용자가 입력해 AWS Management 콘솔과 같은 상호 작용 세션으로 로그인할 수 있는 암호.

• 액세스 키: 액세스 키 ID와 보안 액세스 키의 조합입니다. 한 사용자에게 한 번에 두 개를 지정할 수 있습니다. 이것들은 AWS를 프로그래밍 방식으로 호출하는 데 사용될 수 있습니다. 예를 들어, AWS CLI 또는 AWS PowerShell 도구를 사용할 때 코드 또는 명령 프롬프트에 대한 API를 사용할 경우 액세스 키를 사용할 수 있습니다.

• CodeCommit용 SSH 키: CodeCommit를 사용한 인증에 사용할 수 있는 OpenSSH 형식의 SSH 퍼블릭 키.

• 서버 인증서: 일부 AWS 서비스를 사용한 인증에 사용할 수 있는 SSL/TLS 인증서. 서버 인증서를 프로비저닝 및 관리하고 배포할 때 AWS Certificate Manager(ACM)을 사용하는 것이 좋습니다. ACM에서 지원되지 않는 리전에서 HTTPS 연결을 지원해야 하는 경우에만 IAM을 사용합니다.
